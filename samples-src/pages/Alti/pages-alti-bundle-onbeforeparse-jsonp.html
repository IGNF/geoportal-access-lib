{{#extend "layout-sample-bundle"}}

{{#content "head"}}
        <title>Service de Calcul Altimétrique</title>
{{/content}}

{{#content "style"}}
        <style></style>
{{/content}}

{{#content "body"}}
        <h1>Utilisation du Service de Calcul Altimétrique</h1>
        <h2>Avec les paramètres obligatoires seulement</h2>
        <pre>
          <code>
              var options = {
                  apiKey : "{{ apikey }}",
                  protocol : "JSONP",
                  outputFormat : "json",
                  onSuccess : function (response) {
                      print(response.elevations);
                  },
                  onBeforeParse : function (response) {
                      console.log(response);
                      // some stuff...
                      // ex. response.elevations[0].property = "new";
                      return (typeof response === "string")
                          ? response
                          : JSON.stringify(response);
                  },
                  // spécifique au service
                  positions : [{
                      lon : 8.8,
                      lat : 42
                  }]
              };
              Gp.Services.getAltitude(options);
          </code>
        </pre>
{{/content}}

{{#content "js"}}
        var options = {
            apiKey : "{{ apikey }}",
            protocol : "JSONP",
            outputFormat : "json",
            onSuccess : function (response) {
                print(response.elevations);
            },
            onBeforeParse : function (response) {
                console.log(response);
                // some stuff...
                // ex. response.elevations[0].property = "new";
                return (typeof response === "string")
                    ? response
                    : JSON.stringify(response);
            },
            // spécifique au service
            positions : [{
                lon : 8.8,
                lat : 42
            }]
        };
        Gp.Services.getAltitude(options);
{{/content}}
{{/extend}}

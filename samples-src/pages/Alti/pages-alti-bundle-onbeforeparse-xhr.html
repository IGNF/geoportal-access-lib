{{#extend "layout-sample-bundle"}}

{{#content "head"}}
        <title>Service de Calcul Altimétrique</title>
{{/content}}

{{#content "style"}}
        <style></style>
{{/content}}

{{#content "body"}}
        <h1>Utilisation du Service de Calcul Altimétrique</h1>
        <h2>Avec les paramètres obligatoires seulement</h2>
        <pre>
          <code>
              var options = {
                apiKey : "{{ apikey }}",
                protocol : "XHR",
                outputFormat : "xml",
                onSuccess : function (response) {
                    print(response.elevations);
                },
                onBeforeParse : function (response) {
                    console.log(response);
                    // some stuff...
                    // var newEle = response.createElement("property");
                    // var newText= response.createTextNode("new");
                    // newEle.appendChild(newText);
                    // response.getElementsByTagName("elevation")[0].appendChild(newEle);
                    return (typeof response === "string")
                        ? response
                        : new XMLSerializer().serializeToString(response.documentElement);
                },
                // spécifique au service
                positions : [{
                    lon : 8.8,
                    lat : 42
                }]
            };
            Gp.Services.getAltitude(options);
          </code>
        </pre>
{{/content}}

{{#content "js"}}
        var options = {
            apiKey : "{{ apikey }}",
            protocol : "XHR",
            outputFormat : "xml",
            onSuccess : function (response) {
                print(response.elevations);
            },
            onBeforeParse : function (response) {
                console.log(response);
                // some stuff...
                // var newEle = response.createElement("property");
                // var newText= response.createTextNode("new");
                // newEle.appendChild(newText);
                // response.getElementsByTagName("elevation")[0].appendChild(newEle);
                return (typeof response === "string")
                    ? response
                    : new XMLSerializer().serializeToString(response.documentElement);
            },
            // spécifique au service
            positions : [{
                lon : 8.8,
                lat : 42
            }]
        };
        Gp.Services.getAltitude(options);
{{/content}}
{{/extend}}
